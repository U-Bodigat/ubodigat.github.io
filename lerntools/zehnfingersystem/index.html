<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="verify-v1" content="unique-string">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="website, lernapp, rechner, uhr, snake, description, beschreibung, u, bodigat, u:bodigat, ubodigat">
    <meta name="author" content="U:Bodigat">
    <meta name="publisher" content="U:Bodigat">
    <meta name="copyright" content="U:Bodigat">
    <meta name="description" content="Dieser Text befindet sich noch in Arbeit">
    <meta property="og:site_name" content="U:Bodigat.com">
    <meta property="og:url" content="https://ubodigat.com">
    <meta property="og:title" content="Zehnfingersystem | U:Bodigat.com">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Dieser Text befindet sich noch in Arbeit">
    <meta property="og:image" content="https://cdn.discordapp.com/attachments/1068905447848943697/1161784440004022363/ubodigat_logo_breit_transparent_neutral.png?ex=65398f13&is=65271a13&hm=8bd1f6d65ee3d677dc79e1b8e6d58d7a292f9f88fa9816c01d0535a6d482cd9a&">
    <meta property="og:image:secure_url" content="https://cdn.discordapp.com/attachments/1068905447848943697/1161784440004022363/ubodigat_logo_breit_transparent_neutral.png?ex=65398f13&is=65271a13&hm=8bd1f6d65ee3d677dc79e1b8e6d58d7a292f9f88fa9816c01d0535a6d482cd9a&">
    <meta property="og:image:width" content="1000">
    <meta property="og:image:height" content="500">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://ubodigat.com">
    <meta property="twitter:title" content="Zehnfingersystem | U:Bodigat.com">
    <meta property="twitter:description" content="Dieser Text befindet sich noch in Arbeit">
    <meta property="twitter:image" content="https://cdn.discordapp.com/attachments/1068905447848943697/1161784440004022363/ubodigat_logo_breit_transparent_neutral.png?ex=65398f13&is=65271a13&hm=8bd1f6d65ee3d677dc79e1b8e6d58d7a292f9f88fa9816c01d0535a6d482cd9a&">
    <title>Zehnfingersystem | U:Bodigat.com</title>
    <link rel="icon" href="/Bilder/Wartungsarbeitenprofilbild.png" type="image/x-icon">
    <link rel="apple-touch-icon" href="https://ubodigat.com/Bilder/Wartungsarbeitenprofilbild.png" />
    <script src="/script.js"></script>
    <link rel="stylesheet" href="/lerntools/zehnfingersystem/style.css">
    <script src="/lerntools/zehnfingersystem/script.js"></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BE1B5EZY35"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'G-BE1B5EZY35');
    </script>
    <!-- Google Tag Manager -->
    <script>
        (function(w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src =
                'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-WTDQC48');
    </script>
    <!-- End Google Tag Manager -->
</head>

<body id="zehnfingersystemhintergrund">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WTDQC48"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <nav>
        <header>
            <p><a id="überschriftlink" href="https://ubodigat.com">U:Bodigat.com</a> | Zehnfingersystem</p>
            <div id="headerinput">
                <a href="https://ubodigat.com/datenschutz" target="_blank"> <button class="button">Datenschutz</button></a>
                <a href="/lerntools/lernmenü.html"><button class="button">Zum Lernmenü</button></a>
            </div>
        </header>
    </nav>

    <main>
        <div class="tastatur">
            <div class="reihe">
                <div class="taste" id="grün">1</div>
                <div class="taste" id="grün">2</div>
                <div class="taste" id="blau">3</div>
                <div class="taste" id="orange">4</div>
                <div class="taste">5</div>
                <div class="taste">6</div>
                <div class="taste">7</div>
                <div class="taste">8</div>
                <div class="taste" id="orange">9</div>
                <div class="taste" id="blau">0</div>
                <div class="taste" id="grün">ß</div>
                <div class="taste wide backspace" id="grün">Backspace</div>
            </div>
            <div class="reihe">
                <div class="taste wide shift" id="grün">TAB</div>
                <div class="taste" id="grün">Q</div>
                <div class="taste" id="blau">W</div>
                <div class="taste" id="orange">E</div>
                <div class="taste">R</div>
                <div class="taste">T</div>
                <div class="taste">Z</div>
                <div class="taste">U</div>
                <div class="taste" id="orange">I</div>
                <div class="taste" id="blau">O</div>
                <div class="taste" id="grün">P</div>
                <div class="taste" id="grün">Ü</div>
                <div class="taste wide enter" id="grün">Enter</div>
            </div>
            <div class="reihe">
                <div class="taste wide caps lock" id="grün">Caps Lock</div>
                <div class="taste" id="grün">A</div>
                <div class="taste" id="blau">S</div>
                <div class="taste" id="orange">D</div>
                <div class="taste">F</div>
                <div class="taste">G</div>
                <div class="taste">H</div>
                <div class="taste">J</div>
                <div class="taste" id="orange">K</div>
                <div class="taste" id="blau">L</div>
                <div class="taste" id="grün">Ö</div>
                <div class="taste" id="grün">Ä</div>
                <div class="taste" id="grün">#</div>
            </div>
            <div class="reihe">
                <div class="taste wide shift left" id="grün">Shift</div>
                <div class="taste" id="grün">Y</div>
                <div class="taste" id="blau">X</div>
                <div class="taste" id="orange">C</div>
                <div class="taste">V</div>
                <div class="taste">B</div>
                <div class="taste">N</div>
                <div class="taste">M</div>
                <div class="taste" id="orange">,</div>
                <div class="taste" id="blau">.</div>
                <div class="taste" id="grün">-</div>
                <div class="taste wide shift right" id="grün">Shift</div>
            </div>
            <div class="reihe">
                <div class="taste wide ctrl left" id="grün">STRG</div>
                <div class="taste wide alt left" id="blau">Alt</div>
                <div class="taste wide space" id="daumen">Space</div>
                <div class="taste wide alt right" id="blau">Alt</div>
                <div class="taste wide ctrl right" id="grün">STRG</div>
            </div>
        </div>

        <!--Oben Tastatur unten Lernapp-->

        <div class="app-container">
            <div id="menu">
                <button id="load-file">Text laden</button>
                <button id="exam-mode">Prüfungsmodus</button>
                <p id="error-display">Fehler: 0</p>
            </div>
            <div id="text-container"></div>
            <div id="user-input-container">
                <input id="user-input" type="text" placeholder="Hier tippen..." autocomplete="off">
            </div>
        </div>
        <input type="file" id="file-input" style="display:none" accept=".txt">
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const textContainer = document.getElementById('text-container');
            const userInput = document.getElementById('user-input');
            const errorDisplay = document.getElementById('error-display');
            const loadFileButton = document.getElementById('load-file');
            const examModeButton = document.getElementById('exam-mode');
            const fileInput = document.getElementById('file-input');

            let currentTextIndex = 0;
            let currentText = "";
            const textArray = [];

            let examMode = false;

            function updateText(newText) {
                textContainer.innerHTML = newText
                    .split('')
                    .map((char, index) => `<span class="char${index}">${char}</span>`)
                    .join('');
                currentText = newText;
                textArray.length = 0;
                textArray.push(...newText.split(''));
            }

            function showErrorOverlay(message) {
                const overlay = document.createElement('div');
                overlay.className = 'overlay';

                const modal = document.createElement('div');
                modal.className = 'modal';

                const closeButton = document.createElement('span');
                closeButton.className = 'close-button';
                closeButton.innerHTML = '&times;';

                closeButton.addEventListener('click', function() {
                    document.body.removeChild(overlay);
                });

                modal.appendChild(closeButton);

                const logo = document.createElement('img');
                logo.src = 'https://ubodigat.com/Bilder/Wartungsarbeitenprofilbild.png';
                logo.alt = 'Logo';
                logo.className = 'overlay-logo';

                modal.appendChild(logo);

                modal.innerHTML += `<p>${message}</p>`;

                overlay.appendChild(modal);
                document.body.appendChild(overlay);

                // Schließen Sie das Overlay, wenn darauf geklickt wird
                overlay.addEventListener('click', function(e) {
                    if (e.target === overlay) {
                        document.body.removeChild(overlay);
                    }
                });
            }

            function loadTextFile(file) {
                const reader = new FileReader();

                reader.onload = function(e) {
                    const content = e.target.result;
                    const lines = content.split('\n');
                    currentText = lines.join(' ');
                    updateText(currentText);
                };

                reader.readAsText(file);
            }

            loadFileButton.addEventListener('click', function() {
                fileInput.click();
            });

            fileInput.addEventListener('change', function() {
                const selectedFile = fileInput.files[0];
                if (selectedFile) {
                    const fileType = selectedFile.type;
                    if (fileType === 'text/plain') {
                        loadTextFile(selectedFile);
                    } else {
                        showErrorOverlay('Falscher Dateityp! Bitte wählen Sie eine .txt-Datei.');
                    }
                }
            });

            examModeButton.addEventListener('click', function() {
                examMode = !examMode;
                document.body.style.backgroundColor = examMode ? '#1a1aff' : '#1a1a1a';
            });

            updateText("Fingersatz ist die Belegung der Tasten eines Musikinstruments, Computerprogramms oder einer Schreibmaschine mit den Fingern.");

            let errorCount = 0;

            userInput.addEventListener('input', function() {
                const inputArray = userInput.value.split('');
                let errorCount = 0;

                textArray.forEach((char, index) => {
                    const span = textContainer.querySelector(`.char${index}`);

                    if (inputArray[index] !== undefined) {
                        if (inputArray[index] === char) {
                            span.classList.remove('incorrect');
                            span.classList.remove('fade-text');
                        } else {
                            span.classList.add('incorrect');
                            errorCount += 1;
                        }
                    } else {
                        span.classList.remove('incorrect');
                    }

                    if (index === userInput.value.length) {
                        span.classList.add('current-char');
                    } else {
                        span.classList.remove('current-char');
                    }

                    if (index === userInput.value.length + 1) {
                        span.classList.add('next-char');
                    } else {
                        span.classList.remove('next-char');
                    }

                    if (index < userInput.value.length) {
                        span.classList.add('fade-text');
                    } else {
                        span.classList.remove('fade-text');
                    }
                });

                errorDisplay.textContent = `Fehler: ${errorCount}`;
            });

            errorCount = textArray.reduce((acc, char, index) => {
                if (inputArray[index] !== char) {
                    return acc + 1;
                }
                return acc;
            }, 0);

            errorDisplay.textContent = `Fehler: ${errorCount}`;
        });

        // Tastatur
        const tasten = document.querySelectorAll(".taste");

        document.addEventListener("keydown", function(event) {
            let taste;
            switch (event.code) {
                case "Space":
                    taste = document.querySelector(".taste.space");
                    break;
                case "ControlLeft":
                    taste = document.querySelector(".taste.ctrl.left");
                    break;
                case "ControlRight":
                    taste = document.querySelector(".taste.ctrl.right");
                    break;
                case "AltRight":
                    taste = document.querySelector(".taste.alt.right");
                    break;
                case "ShiftLeft":
                    taste = document.querySelector(".taste.shift.left");
                    break;
                case "ShiftRight":
                    taste = document.querySelector(".taste.shift.right");
                    break;
                case "CapsLock":
                    taste = document.querySelector(".taste.caps.lock");
                    break;
                default:
                    taste = Array.from(tasten).find(t => t.textContent.toUpperCase() === event.key.toUpperCase());
                    break;
            }

            if (taste) {
                taste.classList.add("leuchtet");
            }
        }, true);

        document.addEventListener("keyup", function(event) {
            let taste;
            switch (event.code) {
                case "Space":
                    taste = document.querySelector(".taste.space");
                    break;
                case "ControlLeft":
                    taste = document.querySelector(".taste.ctrl.left");
                    break;
                case "ControlRight":
                    taste = document.querySelector(".taste.ctrl.right");
                    break;
                case "AltRight":
                    taste = document.querySelector(".taste.alt.right");
                    break;
                case "ShiftLeft":
                    taste = document.querySelector(".taste.shift.left");
                    break;
                case "ShiftRight":
                    taste = document.querySelector(".taste.shift.right");
                    break;
                case "CapsLock":
                    taste = document.querySelector(".taste.caps.lock");
                    break;
                default:
                    taste = Array.from(tasten).find(t => t.textContent.toUpperCase() === event.key.toUpperCase());
                    break;
            }

            if (taste) {
                taste.classList.remove("leuchtet");
            }
        });
    </script>

</body>

</html>